<form (submit)="onSubmit()" [formGroup]="form">
  <div class="asm-container">
    <div class="col-long">
      <label>
        <input
          #searchTerm
          type="text"
          class="form-control"
          formControlName="searchTerm"
          placeholder="{{
            'asm.customerSearch.searchTerm.label' | cxTranslate
          }}"
        />
      </label>
    </div>

    <div class="col-short">
      <button type="submit" [disabled]="!selectedCustomer">
        {{ 'asm.customerSearch.submit' | cxTranslate }}
      </button>
    </div>
  </div>
</form>

<div *ngIf="searchResults | async as results" class="asm-results" #resultList>
  <div>
    <a
      *ngFor="let result of results.entries"
      (click)="selectCustomerFromList(result)"
      ><span class="result-name">{{ result.name }}</span>
      <span class="result-id">{{ result.uid }}</span></a
    >
    <a
      (click)="closeResults()"
      *ngIf="
        !(searchResultsLoading$ | async) &&
        searchTerm.value.length >= 3 &&
        (!!results.entries && results.entries.length <= 0)
      "
      >{{ 'asm.customerSearch.noMatch' | cxTranslate }}</a
    >
  </div>
</div>
<div *ngIf="searchResultsLoading$ | async" class="asm-results">
  <div>
    <a>
      <div class="asm-spinner">
        <div class="spinner-dots" aria-hidden="false" aria-label="Loading">
          <div></div>
          <div></div>
          <div></div>
        </div>
      </div>
    </a>
  </div>
</div>
