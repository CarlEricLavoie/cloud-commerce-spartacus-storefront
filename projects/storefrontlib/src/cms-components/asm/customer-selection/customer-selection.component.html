<form (submit)="onSubmit()" [formGroup]="form">
  <div class="fd-container">
    <div class="fd-col--6">
      <label>
        <input
          type="text"
          class="form-control"
          [class.is-invalid]="isNotValid('searchTerm')"
          formControlName="searchTerm"
          placeholder="{{
            'asm.customerSearch.searchTerm.label' | cxTranslate
          }}"
        />
        <div class="invalid-feedback" *ngIf="isNotValid('searchTerm')">
          <span>{{
            'asm.customerSearch.searchTerm.required' | cxTranslate
          }}</span>
        </div>
      </label>
    </div>

    <div class="fd-col--3">
      <button
        type="submit"
        [disabled]="!selectedCustomer"
        class="fd-button--emphasized fd-button--positive sap-icon--media-play"
      >
        {{ 'asm.customerSearch.submit' | cxTranslate }}
      </button>
    </div>
  </div>
</form>

<div *ngIf="searchResults | async as results" class="results">
  <div>
    <a
      *ngFor="let result of results.entries"
      (click)="selectCustomerFromList(result)"
      >{{ result.name }} {{ result.uid }}</a
    >
  </div>
</div>

<ng-container *ngIf="searchResultsLoading$ | async">
  <div class="sap-spinner">
    <div class="fd-loading-dots" aria-hidden="false" aria-label="Loading">
      <div></div>
      <div></div>
      <div></div>
    </div>
  </div>
</ng-container>
